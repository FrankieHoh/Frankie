[General]
# é€šç”¨è®¾ç½®
# ---å»¶è¿Ÿè®¾ç½®---
# > ç½‘ç»œè®¿é—®å»¶è¿Ÿæµ‹é€ŸURL
internet-test-url = http://cp.cloudflare.com/generate_204
# > ä»£ç†å»¶è¿Ÿæµ‹é€ŸURL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 3
# 
# ---GeoIPæ•°æ®åº“---
# > è‡ªå®šä¹‰GeoIPæ•°æ®åº“
# geoip-maxmind-url = https://raw.githubusercontent.com/JMVoid/ipip2mmdb/release/Country.mmdb
# 
# ---WiFiåŠ©ç†---
# åœ¨Wi-Fiç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥
# ture=å¼€å¯ï¼Œfalse=å…³é—­
wifi-assist = false
# 
# ---WiFiè®¿é—®---
# > å…è®¸WiFiè®¿é—®
# >> iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†falseæ”¹ä¸ºtrue
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# >> macOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†127.0.0.1æ”¹ä¸º0.0.0.0
http-listen = 0.0.0.0
socks5-listen = 0.0.0.0
# 
# ---è¿œç¨‹æ§åˆ¶å™¨---
# > å…è®¸Surgeè¯·æ±‚æŸ¥çœ‹å™¨æˆ–Surge CIè¿›è¡Œç®¡ç†æ§åˆ¶
# @å‰å†…å®¹ä¸ºå¯†ç 
external-controller-access = 123456@127.0.0.1:6170
# > HTTP API
# å¯ä»¥è®©å¦ä¸€ä¸ªAppæˆ–è€…è®¾å¤‡é€šè¿‡HTTP APIæ§åˆ¶SurgeåŠŸèƒ½
# @å‰å†…å®¹ä¸ºå¯†ç 
http-api = 123456@127.0.0.1:6166
# > è¿œç¨‹æ§åˆ¶å™¨å¼€å…³
http-api-tls = true
http-api-web-dashboard = true
# 
# ---å…¼å®¹æ€§è®¾ç½®---
# > Network framwork
network-framework = false
# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = false
# > å…¼å®¹æ¨¡å¼(ä»…iOS)
# compatibility-mode = 0
# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-DOMAINnames = true
# > è·³è¿‡ä»£ç†
skip-proxy = localDOMAIN, *.local, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.1/32, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16,192.168.122.1/32, 193.168.0.1/32, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32, *.crashlytics.com, passenger.t3go.cn, captive.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com, injections.adguard.org, local.adguard.org
# 
# ---DNS æœåŠ¡å™¨---
# å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨DNS over HTTPS
dns-server = system, 119.29.29.29, 119.28.28.28, 223.5.5.5, 223.6.6.6, 1.2.4.8, 8.8.8.8
# > ä»/etc/DOMAINsè¯»å–DNSè®°å½•
read-etc-DOMAINs = true
# 
# ---é«˜çº§è®¾ç½®---
# > æ—¥å¿—çº§åˆ«
loglevel = notify
# > å½“é‡åˆ°REJECTç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# > Always Real IP DOMAINs
# å½“Surge VIFå¤„ç†DNSé—®é¢˜æ—¶ï¼Œè¦æ±‚Surgeè¿”å›çœŸå®IPåœ°å€
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# > TCP Force HTTP DOMAINs
# è®©SurgeæŠŠTCPè¿æ¥å½“ä½œHTTPè¯·æ±‚æ¥å¤„ç†
# Surge HTTPå¼•æ“å°†å¤„ç†è¿™äº›è¯·æ±‚
# æ‰€æœ‰çš„é«˜çº§åŠŸèƒ½ï¼Œå¦‚æ•è·ã€é‡å†™å’Œè„šæœ¬ç­‰éƒ½å¯ä»¥ä½¿ç”¨
force-http-engine-DOMAINs = *.ott.cibntv.net
# > UDPè½¬å‘
# å¦‚æœæ²¡æœ‰ä»£ç†æœåŠ¡å™¨æ”¯æŒUDPè½¬å‘
# å¯ä¿®æ”¹ä¸ºdirectæˆ–æ³¨é‡Šæœ¬æ¡
# éœ€æ³¨æ„åŒä¸€ç›®æ ‡ä¸»æœºåTCPè¯·æ±‚ä¸UDPè¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£é™©
udp-policy-not-supported-behaviour = reject



[Replica]
# ---æŠ“å–æµé‡çš„è¿‡æ»¤---
# 0 ä¸ºå…³é—­ï¼Œ1 ä¸ºå¼€å¯
# > éšè—æ‰€æœ‰å‘å¾€.Apple.comå’Œ.icloud.comçš„è¯·æ±‚
hide-apple-request = 0
# > éšè—å´©æºƒè¿½è¸ªå™¨(Crashlytics)è¯·æ±‚
hide-crash-reporter-request = 1
# > éšè— UDP ä¼šè¯
hide-udp = 0
# > å…³é”®è¯è¿‡æ»¤å™¨
# none å…³é—­å…³é”®è¯è¿‡æ»¤å™¨
# whitelist ä»…è®°å½•åŒ…å«å…³é”®å­—çš„è¯·æ±‚
# blacklistï¼ˆä»…è®°å½•ä¸åŒ…å«å…³é”®å­—çš„è¯·æ±‚
# pattern åŒ¹é…é€šé…ç¬¦çš„è¯·æ±‚
keyword-filter-type = none
# > å…³é”®è¯
keyword-filter = (null)


[Proxy Group]
# https://sub.store/download/collection/xibasurge


HK = url-test, policy-path=https://sub.store/download/collection/xibasurge, update-interval=600, policy-regex-filter=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|JP|KR|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|ç…åŸ|x)).)*$, interval=600, timeout=3, tolerance=30
SG = url-test, policy-path=https://sub.store/download/collection/xibasurge, update-interval=600, policy-regex-filter=(?=.*(æ–°åŠ å¡|ç‹®åŸ|SG|(?i)Singapore))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|ç¾å›½|éŸ©å›½|å—æœé²œ|US|JP|KR|HK|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|x)).)*$, interval=600, timeout=3, tolerance=30
TW = url-test, policy-path=https://sub.store/download/collection/xibasurge, update-interval=600, policy-regex-filter=(?=.*(å°|TW|(?i)Taiwan))^((?!(é¦™æ¸¯|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|KR|HK|JP|ç¾åœ‹|éŸ“åœ‹|ç…åŸ|x)).)*$, interval=600, timeout=3, tolerance=30
JP = url-test, policy-path=https://sub.store/download/collection/xibasurge, update-interval=600, policy-regex-filter=(?=.*(æ—¥æœ¬|JP|(?i)Japan))^((?!(é¦™æ¸¯|å°æ¹¾|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|KR|HK|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|ç…åŸ|x)).)*$, interval=600, timeout=3, tolerance=30
US = url-test, policy-path=https://sub.store/download/collection/xibasurge, update-interval=600, policy-regex-filter=(?=.*(ç¾å›½|ç¾åœ‹|US|æ´›æ‰çŸ¶|è¥¿é›…å›¾|(?i)States|American))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|éŸ©å›½|ç‹®åŸ|å—æœé²œ|SG|JP|KR|HK|TW|å°ç£|éŸ“åœ‹|ç…åŸ|x)).)*$, interval=600, timeout=3, tolerance=30
TR = url-test, policy-path=https://sub.store/download/collection/xibasurge, update-interval=600, policy-regex-filter=(?=.*(åœŸ|TR|Turkey))^((?!(ç¾å›½|ç¾åœ‹|US|æ´›æ‰çŸ¶|è¥¿é›…å›¾|(?i)States|American|é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|éŸ©å›½|ç‹®åŸ|å—æœé²œ|SG|JP|KR|HK|TW|å°ç£|éŸ“åœ‹|ç…åŸ|x)).)*$, interval=600, timeout=3, tolerance=30
QLYUN = url-test, policy-path=https://sub.store/download/collection/xibasurge, update-interval=600, policy-regex-filter=(?=.*(ğŸ§‹))^((?!(RU|PK|ID|TR|TH|HP)).)*$, interval=600, timeout=3, tolerance=30


Telegram, HK, SG, TW, JP, US, select, FINAL, DIRECT
Instagram, HK, SG, TW, JP, US, select, FINAL, DIRECT
Google, HK, SG, TW, JP, US, select, FINAL, DIRECT
YouTube, HK, SG, TW, JP, US, select, FINAL, DIRECT
Microsoft, HK, SG, TW, JP, US, select, FINAL, DIRECT
OpenAI, HK, SG, TW, JP, US, select, FINAL, DIRECT
TikTok, HK, SG, TW, JP, US, select, FINAL, DIRECT
Disney, HK, SG, TW, JP, US, select, FINAL, DIRECT
Netfilx, HK, SG, TW, JP, US, select, FINAL, DIRECT
Spotify, HK, SG, TW, JP, US, select, FINAL, DIRECT
iQIYI, HK, SG, TW, JP, US, select, FINAL, DIRECT
Others, HK, SG, TW, JP, US, select, FINAL, DIRECT



[Rule]

# Instagram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Instagram/Instagram.list,Instagram
# Duolingo
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Duolingo/Duolingo.list,HK
# Google Drive
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GoogleDrive/GoogleDrive.list,QLYUN
# Google Voice
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GoogleVoice/GoogleVoice.list,US
# Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Google/Google.list,Google
# Telegram
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list,Telegram
# iCloud
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/iCloud/iCloud.list,DIRECT
# Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list,DIRECT
# YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/YouTube/YouTube.list,YouTube
# Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Spotify/Spotify.list,Spotify
# Tesla
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Tesla/Tesla.list,DIRECT
# Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Microsoft/Microsoft.list,Microsoft
# OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/OpenAI/OpenAI.list,OpenAI
# PayPal
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/PayPal/PayPal.list,US
# TikTok
RULE-SET,https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok.list,TikTok
# Disney
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Disney/Disney.list,Disney
# Netfilx
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Netflix/Netflix.list,Netfilx
# iQIYI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/iQIYI/iQIYI.list,iQIYI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/iQIYIIntl/iQIYIIntl.list,iQIYI
# Mainland å›½å†…è®¿é—®
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,DIRECT
# Global å…¨çƒåŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list,Others
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list,Others



# Archives
DOMAIN-SUFFIX,archive.org,Singapore
DOMAIN-SUFFIX,archive.today,Singapore
DOMAIN-SUFFIX,archive.is,Singapore
DOMAIN-SUFFIX,archive.ph,Singapore
DOMAIN-SUFFIX,archive.vn,Singapore
DOMAIN-SUFFIX,archive.fo,Singapore
DOMAIN-SUFFIX,archive.li,Singapore
DOMAIN-SUFFIX,archive.md,Singapore
# OPGG
DOMAIN-SUFFIX,op.gg,Proxy
# Tesla
DOMAIN-SUFFIX,tesla.cn,DIRECT
# 1Password
DOMAIN-KEYWORD,1password,DIRECT
# Turkeybank
DOMAIN-SUFFIX,ozan.com,Turkey
DOMAIN-KEYWORD,ozan,Turkey
DOMAIN-KEYWORD,oldubil,Turkey
DOMAIN-KEYWORD,sipay,Turkey
DOMAIN-KEYWORD,fups,Turkey
DOMAIN-KEYWORD,iyzico,Turkey
# IProyal
DOMAIN-KEYWORD,IProyal,UnitedStates
# çŸ¥ä¹å»£å‘Šå±è”½
DOMAIN,118.89.204.198,reject
DOMAIN-KEYWORD,118.89.204.198,reject
ip-cidr,118.89.204.198/32,reject
DOMAIN,appcloud2.in.zhihu.com,reject
DOMAIN,mqtt.zhihu.com,reject
DOMAIN,sugar.zhihu.com,reject
# éŠ€è¡Œ
DOMAIN-SUFFIX,95599.cn,DIRECT
DOMAIN-SUFFIX,abchina.com,DIRECT
DOMAIN-SUFFIX,bscabank.com,DIRECT
DOMAIN-SUFFIX,openaboc.cn,DIRECT
DOMAIN-SUFFIX,openaboc.com,DIRECT
DOMAIN-SUFFIX,openaboc.com.cn,DIRECT
# 12306åŠå¾®åš
DOMAIN,ad.12306.cn,DIRECT
DOMAIN,sdkapp.uve.weibo.com,DIRECT
# é…·å®‰ADå¤„ç†
DOMAIN-KEYWORD,pangolin,reject
DOMAIN-KEYWORD,pglstat,reject
# è´´å§ADå¤„ç†
ip-cidr,180.76.76.200/32,reject
DOMAIN,im.tieba.baidu.com,reject
# çˆ±æ€åŠ©æ‰‹ADå¤„ç†
DOMAIN,d.image.i4.cn,reject
# å…¶ä»–ADå¤„ç†
DOMAIN-KEYWORD,adview,reject
DOMAIN-SUFFIX,gdt.qq.com,reject
DOMAIN-SUFFIX,u3.ucweb.com,reject
# é¿å…è¿…é›·ç‰ˆæ¬Šå•é¡Œ
DOMAIN,hub5idx.v6.shub.sandai.net,reject
DOMAIN,hub5emu.v6.shub.sandai.net,reject
DOMAIN,hub5btmain.v6.shub.sandai.net,reject
# ç¹éAppleä¼æ¥­è­‰æ›¸éæœŸ
DOMAIN,ocsp.apple.com,reject
# Bç«™è‡ªå‹•æ›å€
ip-cidr,203.107.1.1/24,reject
# å€åŸŸç¶²çµ¡
ip-cidr,10.0.0.0/8,DIRECT
ip-cidr,127.0.0.0/8,DIRECT
ip-cidr,172.16.0.0/12,DIRECT
ip-cidr,192.168.0.0/16,DIRECT
ip-cidr,224.0.0.0/24,DIRECT
ip-cidr,182.254.116.0/24,DIRECT
ip6-cidr,fe80::/10,DIRECT


GEOIP,CN,DIRECT
FINAL,Others





[DOMAIN]
# ---å®šä¹‰æœ¬åœ°DNSè®°å½•---
# è¯¥åŠŸèƒ½ç­‰åŒäº /etc/DOMAINsï¼ŒåŠ ä¸Šäº†æ³›è§£æå’Œåˆ«åæ”¯æŒã€‚
# > Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# > Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
# > PlayStation
*.dl.playstation.net = server:119.29.29.29
# > æ·˜å®
*.taobao.com = server:223.5.5.5
# > å¤©çŒ«
*.tmall.com = server:223.5.5.5
# > é˜¿é‡Œäº‘
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
# > è…¾è¿…
*.tencent.com = server:119.29.29.29
# > è…¾è®¯QQ
*.qq.com = server:119.29.29.29
# > å¾®ä¿¡
*.weixin.com = server:119.29.29.29
*.qpic.cn = server:119.29.29.29
# > äº¬ä¸œ
*.jd.com = server:119.29.29.29
# > å“”å“©å“”å–±
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
# > ç½‘æ˜“
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
# > å°ç±³
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
# è§£é”äº†ã€Œæ¨¡å—ã€åŠŸèƒ½çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ General.sgmodule åå¯ç§»é™¤ [URL Rewrite] åŠ [MITM] çš„ã€ŒDOMAINname = www.google.cn,api.abema.ioã€éƒ¨åˆ†
# å»ºè®®ä½¿ç”¨ General.sgmoduleï¼Œå…¶ä»– .sgmodule æŒ‰éœ€åŠ å…¥
# æœªè§£é”ã€Œæ¨¡å—ã€åŠŸèƒ½çš„ç”¨æˆ·ä¸è¦åˆ é™¤ä»¥ä¸‹å†…å®¹ï¼Œå‚ç…§
# (https://github.com/DivineEngine/Profiles/tree/master/Surge)ä½¿ç”¨å¿«æ·æŒ‡ä»¤æ›´æ–°ç›¸å…³å†…å®¹ã€‚

[URL Rewrite]
# æœ‰ä¸¤ç§é‡å®šå‘æ–¹å¼: 'header' å’Œ '302'
# å»ºè®®ç”¨æ¨¡å—

[Panel]
# macOSä¸ç”Ÿæ•ˆ
# > EDC_Surge-Panel
# æ˜¾ç¤ºè¿è¡Œæ—¶é—´åŠMitMç­‰åŠŸèƒ½å¼€å…³çŠ¶æ€
# ç‚¹å‡»åˆ·æ–°ä¸ºé‡è½½é…ç½®
EDC_Surge-Panel = script-name=EDC_Surge-Panel,update-interval=1

[Script]
# æ˜¾ç¤ºè¿è¡Œæ—¶é—´åŠMitMç­‰åŠŸèƒ½å¼€å…³çŠ¶æ€
EDC_Surge-Panel = type=generic,script-path=https://raw.githubusercontent.com/erdongchanyo/Rules/main/Surge/Panels/EDC_Surge-Panel.js,argument=icon=crown.fill&color=#f6c970

[MITM]
skip-server-cert-verify = true
